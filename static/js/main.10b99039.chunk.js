(this.webpackJsonpsellsoutweb=this.webpackJsonpsellsoutweb||[]).push([[0],{236:function(e,t,a){e.exports=a(480)},241:function(e,t,a){},242:function(e,t,a){},250:function(e,t){},252:function(e,t){},480:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),i=a.n(r),l=(a(241),a(242),a(62)),c=a(138),s=a.n(c),u=a(217),d=a(218),f=a(231),h=a(219),p=a(233),v=a(484),S=a(486),m=a(487),g=a(9),w=a(34),E=a(485),b=a(489),C=a(490),T=a(488),y=a(71),D=(a(245),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).handleFileUpload2=function(e){var t,n,o,r;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t=[],n=[],o=0,r=[],Object(T.a)(e.file).then((function(e){console.log(e),e.forEach((function(e){"Customer Code"!==e[1]&&null!==e[1]&&t.push({code:e[1],nomDuClient:e[2],address:e[10]})})),a.setState({univer:t});var i=a.state.Total,l=i.findIndex((function(e){return e.Seller===a.state.SellerToShow}));i[l].Days.forEach((function(e){e.Product.forEach((function(t){o=e.Product.findIndex((function(e){return e.produit===a.state.SelectedProduct}))})),e.Product[o].ListClient.length>0&&n.push(e.Product[o].ListClient)})),console.log("Calcule"),n.forEach((function(e){t.forEach((function(t){-1==e.findIndex((function(e){return e.nomDuClient===t.nomDuClient}))&&r.push(t)})),console.log(r),a.setState({ActiveCovergeRestant:r})}));var c={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,filename:a.state.SellerToShow+"///"+a.state.SelectedProduct,title:a.state.SelectedProduct,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0};new y.ExportToCsv(c).generateCsv(a.state.ActiveCovergeRestant)}));case 5:case"end":return i.stop()}}))},a.handleFileUpload=function(e){var t,n,o,r;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t=[],n=[],o=[],[],a.setState({visible:!0}),r=[],Object(T.a)(e.file).then((function(e){"Document Listing"!==e[0][0]&&a.setState({visible2:!0}),e.forEach((function(e){null!==e[10]&&"* Salesman"!==e[10]&&t.push(e[10])})),t=Object(l.a)(new Set(t)),a.setState({Selsman:t}),e.forEach((function(e){null!==e[8]&&"Product Description"!==e[8]&&n.push(e[8])}));var i=[];(n=Object(l.a)(new Set(n))).forEach((function(e){i.push({product:e,qty:0})})),e.forEach((function(e){null!==e[9]&&"Transaction Date"!==e[9]&&r.push(e[9])})),r=Object(l.a)(new Set(r)),a.setState({DaysToShow:r}),t.forEach((function(e){o.push({seller:e,product:i})}));var c=[],s=[],u=[],d=[],f=[];t.forEach((function(t){r.forEach((function(a){n.forEach((function(n){var o=0;e.forEach((function(e){if(e[8]===n&&e[10]===t&&e[9]===a){var r=e[25],i=e[18];"EA"===e[26]||"DS"===e[26]?o+=r/i:o+=r/i*i,u.push(e[1]),d.push({code:e[1],nomDuClient:e[2]})}})),u=Object(l.a)(new Set(u)),d=Object(l.a)(new Set(d));var r=u.length;u=[],c.push({produit:n,qty:o,ActiveCoverge:r,ListClient:d}),d=[]})),f.push({Day:a,Product:c}),c=[]})),s.push({Seller:t,Days:f}),f=[]})),a.setState({Total:s});var h=a.state.Total[0].Seller;a.setState({SellerToShow:h}),r=a.state.Total[0].Days,a.setState({DataToShow:r});var p=a.state.DataToShow[0].Product;p.sort((function(e,t){return e.produit<t.produit?-1:e.produit>t.produit?1:0})),a.setState({DispProd:p,downloadBtn:!1});var v=a.state.Total,S=[];n.forEach((function(e){S.push({Product:e,qty:0,ActiveCoverge:0})}));v.forEach((function(e){e.Days.forEach((function(e){e.Product.forEach((function(e){var t=S.findIndex((function(t){return t.Product===e.produit}));S[t].qty+=e.qty,S[t].ActiveCoverge+=e.ActiveCoverge}))}))})),a.setState({TotalDepot:S}),a.setState({visible:!1})}));case 7:case"end":return i.stop()}}))},a.callback=function(e){var t=a.state.Total,n=t.findIndex((function(t){return t.Seller===e})),o=t[n].Seller;a.setState({SellerToShow:o});var r=a.state.Total[n].Days;a.setState({DataToShow:r})},a.callback2=function(e){var t=a.state.DataToShow,n=t.findIndex((function(t){return t.Day===e})),o=t[n].Product;o.sort((function(e,t){return e.produit<t.produit?-1:e.produit>t.produit?1:0})),a.setState({DispProd:o,downloadBtn:!1})},a.getClient=function(e){var t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();t=o+"/"+n+"/"+r;var i={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,filename:e.produit+"_"+a.state.SellerToShow,title:e.produit+"/ "+t,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},l=new y.ExportToCsv(i);a.setState({SelectedProduct:e.produit}),l.generateCsv(e.ListClient)},a.getActiveCoverge=function(){var e={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,filename:a.state.SellerToShow,title:a.state.SellerToShow,useTextFile:!1,useBom:!0,useKeysAsHeaders:!0};new y.ExportToCsv(e).generateCsv(a.state.DispProd)},a.getActiveCovergeDepot=function(){new y.ExportToCsv({fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,filename:"Active Coverge Depot",title:"Active Coverge Depot",useTextFile:!1,useBom:!0,useKeysAsHeaders:!0}).generateCsv(a.state.TotalDepot)},a.state={Selsman:[],Total:[],DaysToShow:[],DispProd:[],SellerToShow:[],DataToShow:[],downloadBtn:!0,TotalDepot:[],visible:!1,visible2:!1,visible3:!1,univer:[],ActiveCovergeRestant:[],ClientAchteur:[],SelectedProduct:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=(v.a.Header,v.a.Footer,v.a.Sider,v.a.Content),a=S.a.Dragger,n=m.a.TabPane;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null,o.a.createElement(t,null,o.a.createElement(a,{name:"file",onChange:function(t){e.handleFileUpload(t)},beforeUpload:function(){return!1},accept:".xlsx"},o.a.createElement("p",{className:"ant-upload-drag-icon"},o.a.createElement(g.a,{type:"inbox"})),o.a.createElement("p",{className:"ant-upload-text"},"Appuier ici ou deplacer le fichier ici"),o.a.createElement("p",{className:"ant-upload-hint"}))),o.a.createElement(m.a,{defaultActiveKey:"1",onChange:this.callback},this.state.Selsman.map((function(e){return o.a.createElement(n,{tab:e,key:e})}))),o.a.createElement(m.a,{defaultActiveKey:"1",onChange:this.callback2},this.state.DaysToShow.map((function(e){return o.a.createElement(n,{tab:e,key:e})}))),o.a.createElement(v.a,null,o.a.createElement(t,null,o.a.createElement(w.a,{type:"primary",icon:"download",size:"large",onClick:this.getActiveCoverge,disabled:this.state.downloadBtn},"Telecharger l'active coverge"),o.a.createElement(w.a,{type:"primary",icon:"download",size:"large",onClick:this.getActiveCovergeDepot,disabled:this.state.downloadBtn},"Telecharger l'active coverge depot"))),o.a.createElement(E.a,{columns:[{title:"Product",dataIndex:"produit",sorter:!0,key:"produit"},{title:"Quantity",dataIndex:"qty",key:"qty"},{title:"Active Coverge",dataIndex:"ActiveCoverge",key:"ActiveCoverge"}],dataSource:this.state.DispProd,onRow:function(t){return{onClick:function(){e.getClient(t),e.setState({visible3:!0})}}}}),o.a.createElement(b.a,{title:"En cours de Traitement",visible:this.state.visible},o.a.createElement(C.a,{title:"Le fichier est en cours d'execution Veuillez patienter"})),o.a.createElement(b.a,{title:"En cours de Traitement",visible:this.state.visible2,onOk:function(){e.setState({visible2:!1})},onCancel:function(){e.setState({visible2:!1})}},o.a.createElement(C.a,{status:"error",title:"Fichier invalide",subTitle:"Veuillez ne pas modifier le fichier Document Listing il suffis seulement de autoriser les modification apres le telechargement veuillez contacter Mr Sofiane Khoudour "})),o.a.createElement(b.a,{title:"En cours de Traitement",visible:this.state.visible3,onOk:function(){e.setState({visible3:!1})},onCancel:function(){e.setState({visible3:!1})}},o.a.createElement(S.a,{name:"file2",onChange:function(t){e.handleFileUpload2(t)},beforeUpload:function(){return!1},accept:".xlsx"},o.a.createElement(w.a,null,o.a.createElement(g.a,{type:"upload"})," Selection l'univere du vendeur")),",")))}}]),t}(n.Component));var x=function(){return o.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[236,1,2]]]);
//# sourceMappingURL=main.10b99039.chunk.js.map